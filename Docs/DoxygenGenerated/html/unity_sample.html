<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CloudBuilder Unity: Unity sample</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CloudBuilder Unity
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Unity sample </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Setting up a project with Unity is different than its C++ brother. Our implementation is based on native plugins, and hence you need to prepare the sample accordingly. Here are the basic steps to perform in order to integrate the Clan in Unity.</p>
<h2>Plugins setup </h2>
<p>The Assets folder of the Unity project should have the following hierarchy: </p><div class="image">
<img src="./img/UnitySampleAssets.png"  alt="Unity Sample Assets hierarchy"/>
</div>
<p>Now, depending on the platforms you target, please read carefully:</p>
<ul>
<li><p class="startli">Windows:</p>
<p class="startli">First, if Microsoft Visual Studio 2010 (any version) is not installed on your Windows, you need to download the Microsoft Visual C++ 2010 Redistributable Package (x86). It can be found here:<br />
 <a href="http://www.microsoft.com/en-us/download/details.aspx?id=5555">http://www.microsoft.com/en-us/download/details.aspx?id=5555</a><br />
 Just double click the file and it will install automatically.</p>
</li>
<li><p class="startli">Android:</p>
<p class="startli">All the native plugins (Java and C++) are already in place. Now, you can remove the "facebook" folder from Assets/Plugins/Android if you do not intend to use the Facebook login in your game. Likewise, if you do not want to use the Google+ login, you can remove the "google-play-services_lib" folder. Apart from that, all other plugins (ie. CloudBuilder.jar, customactivity.jar, gcm.jar and libCloudBuilder.so) are all mandatory, and removing any of them will lead to the sample not building or crashing at runtime!</p>
</li>
</ul>
<h2>Compiling on the different platforms </h2>
<ul>
<li><p class="startli"><b>For iOS</b>:</p>
<p class="startli">Once the XCode project is generated, you need to open it and before compiling, you have to do the following things: </p><ul>
<li>
In the "Build Phases" tab of the XCode target, add the following frameworks and libraries in the "Link Binary With Libraries" section:<br />
 Accounts.framework, AdSupport.framework, CoreData.framework, CoreTelephony.framework, CoreText.framework, GameKit.framework, libc++.dylib, libsqlite3.0.dylib, Security.framework, Social.framework, StoreKit.framework, SystemConfiguration.framework  </li>
<li>
For Facebook support, do not forget to add in the file Info.plist two entries "FacebookAppID" and "FacebookDisplayName" with the relevant values as obtained on developers.facebook.com. Also, in the "Info" tab of the project, "URL Types" section, add an element and simply fill "URL Schemes" entry, with fbxxxxxxxxx, where xxxxxxxxx represents your Facebook ID application. <div class="image">
<img src="./img/XCodeFacebookPList.png"  alt="Configuring the plist file for Facebook"/>
</div>
  </li>
<li>
Copy SampleCloudBuilderUnity/PlatformSpecific/iOS/CloudBuilder/Headers folder inside the root of the Unity XCode generated project, at the same level with Unity-iPhone.xcodeproj  </li>
<li>
Modify "Build Settings" tab, "Search Paths" section, "Header Search Paths" entry and simply add ./Headers in the existing list.  </li>
<li>
In the file UnityAppController.mm add the following snippets of code: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;#include &quot;CHJSON.h&quot;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;#include &quot;CClan.h&quot;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;class CHandler</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;public:</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    void RestoreSessionDone(CloudBuilder::eErrorCode ec, const CloudBuilder::CCloudResult *res);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;};</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;void CHandler::RestoreSessionDone(CloudBuilder::eErrorCode ec, const CloudBuilder::CCloudResult *res)</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;}</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;CHandler* gCotCHandler;</div>
</div><!-- fragment -->  </li>
<li>
Modify the following ObjectiveC method like this: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;- (BOOL)application:(UIApplication*)application openURL:(NSURL*)url sourceApplication:(NSString*)sourceApplication annotation:(id)annotation</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    NSMutableArray* keys    = [NSMutableArray arrayWithCapacity:3];</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    NSMutableArray* values  = [NSMutableArray arrayWithCapacity:3];</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    #define ADD_ITEM(item)  do{ if(item) {[keys addObject:@#item]; [values addObject:item];} }while(0)</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    ADD_ITEM(url);</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    ADD_ITEM(sourceApplication);</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    ADD_ITEM(annotation);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    #undef ADD_ITEM</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    NSDictionary* notifData = [NSDictionary dictionaryWithObjects:values forKeys:keys];</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    AppController_SendNotificationWithArg(kUnityOnOpenURL, notifData);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    CotCHelpers::CHJSON j;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    j.Put(&quot;url&quot;, [[url absoluteString] UTF8String]);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    j.Put(&quot;source&quot;, [sourceApplication UTF8String]);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    CloudBuilder::CClan::Instance()-&gt;HandleURL(&amp;j, new CloudBuilder::CResultHandler(gCotCHandler, &amp;CHandler::RestoreSessionDone));</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    return YES;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div>
</div><!-- fragment -->  </li>
<li>
Add this one line of code in the following ObjectiveC method: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;- (BOOL)application:(UIApplication*)application didFinishLaunchingWithOptions:(NSDictionary*)launchOptions</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    ...........</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    gCotCHandler = new CHandler;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    return YES;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;}</div>
</div><!-- fragment -->  </li>
<li>
And finally modify this last ObjectiveC method like that: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;- (void)applicationWillTerminate:(UIApplication*)application</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    printf_console(&quot;-&gt; applicationWillTerminate()\n&quot;);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    Profiler_UninitProfiler();</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    UnityCleanup();</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    delete gCotCHandler;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div>
</div><!-- fragment -->  </li>
</ul>
</li>
<li><p class="startli"><b>For Android</b>:</p>
<p class="startli">You do not necessarily need to generate an Android project. Using 'Build and Run' in Unity should work right away, provided you're satisfied with the generic bundle 'com.cotc.unitysample' we chose. The sample comes with a ready to run project which can be tested right away.<br />
 Now, if you need to use either Facebook, Google+ or push notifications, you need to modify the bundle because in this case, your game must use a dedicated bundle. As a first, you can see in these different sections how to set up <a class="el" href="facebook_ref.html">for Facebook</a>, <a class="el" href="googleplus_ref.html">for Google+</a> and <a class="el" href="push_ref.html">push notification</a>. Once you've completed the mandatory steps that Facebook and Google require from you in order to use their features, you need to slightly modify the Unity project in order to integrate the new bundle.<br />
 Let's say you want the new bundle to be 'com.mycompany.mygame'. This new bundle must then be referenced everywhere we could find 'com.cotc.unitysample' previously. Let's have a look at all the different places where you need to change things. </p><ul>
<li>
First report of the new bundle needs to go right into the AndroidManifest.xml in Assets/Plugins/Android. <div class="image">
<img src="./img/AndroidManifest.png"  alt="The manifest to modify"/>
</div>
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;package=&quot;com.cotc.unitysample&quot;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;android:versionCode=&quot;1&quot;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;android:versionName=&quot;1.0&quot; &gt;</div>
</div><!-- fragment --> should become <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;package=&quot;com.mycompany.mygame&quot;       &lt;-- MODIFICATION HERE</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;android:versionCode=&quot;1&quot;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;android:versionName=&quot;1.0&quot; &gt;</div>
</div><!-- fragment -->  </li>
<li>
To reflect the change in the bundle name, we have to modify the folders under the 'src' folder. Note below how the initial 'src/com/cotc/unitysample' was changed to 'src/com/mycompany/mygame'. This is a requirement of Java where folders structure must match the bundle name. <div class="image">
<img src="./img/CustomActivity.png"  alt="Rename your project folders"/>
</div>
  </li>
<li>
The only thing needed at this stage is to recompile the custom activity project that we deliver with the sample. Just import this project inside Eclipse (previously setup with an Android SDK). You need to import the folder 'CustomActivity' inside 'SampleCloudBuilderUnity/PlatformSpecific/Android'. Once you have successfully imported the project inside Eclipse, open the only source file called SampleActivity.java and modify it from: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;package com.cotc.unitysample;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;import com.clanofthecloud.cloudbuilder.unity.CloudBuilderUnityActivity;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;import android.os.Bundle;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;import com.google.android.gcm.GCMBroadcastReceiver</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;public class SampleActivity extends CloudBuilderUnityActivity {</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    @Override</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    public void onCreate(Bundle savedInstanceState)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            super.onCreate(savedInstanceState);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;            GCMBroadcastReceiver.sOverloadPackage = true;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        }</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    public Class&lt;? extends CloudBuilderUnityActivity&gt; GetActivityClass() {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        return this.getClass();</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    }</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
</div><!-- fragment --> to <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;package com.mycompany.mygame;       &lt;-- MODIFICATION HERE</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;import com.clanofthecloud.cloudbuilder.unity.CloudBuilderUnityActivity;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;import android.os.Bundle;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;import com.google.android.gcm.GCMBroadcastReceiver</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;public class SampleActivity extends CloudBuilderUnityActivity {</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    @Override</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    public void onCreate(Bundle savedInstanceState)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        super.onCreate(savedInstanceState);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        GCMBroadcastReceiver.sOverloadPackage = true;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    }</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    public Class&lt;? extends CloudBuilderUnityActivity&gt; GetActivityClass() {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        return this.getClass();</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    }</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
</div><!-- fragment --> </li>
<li>
Now you just need to copy the 'customactivity.jar' generated file inside the 'Assets/Plugins/Android' folder so that Unity can use your new activity. <div class="image">
<img src="./img/CustomActivity.png"  alt="Copy your new activity"/>
</div>
  </li>
<li>
<p class="startli">To activate Facebook login and other features in your game, it is really easy now you have modified the bundle to an original one. Provided you have already made the mandatory Facebook setup, as reminded in the <a class="el" href="facebook_ref.html">dedicated section</a>, all you're left with is activating some sections in the following XML files.<br />
</p>
<p class="endli">First uncomment the following lines from the file 'Assets/Plugins/Android/AndroidManifest.xml' file: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/app_fb_id&quot;/&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;activity android:name=&quot;com.facebook.LoginActivity&quot;&gt;&lt;/activity&gt;</div>
</div><!-- fragment --><p> And finally also uncomment the following lines from the file 'Assets/Plugins/Android/res/values/strings.xml': </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;string name=&quot;app_fb_id&quot; translatable=&quot;false&quot;&gt;296632777192084&lt;/string&gt;</div>
</div><!-- fragment --><p> That's it, you can now use the Facebook Login in your game.  </p>
</li>
<li>
<p class="startli">To activate Google+ login and other features in your game, it is even simpler. Provided you have already made the mandatory Google+ setup, as reminded in the <a class="el" href="googleplus_ref.html">dedicated section</a>, all you're left with is activating a single section in 'Assets/Plugins/Android/AndroidManifest.xml' file'.<br />
</p>
<p class="endli">Uncomment the following line: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;meta-data android:name=&quot;com.google.android.gms.version&quot;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;android:value=&quot;@integer/google_play_services_version&quot; /&gt;</div>
</div><!-- fragment --><p> That's it, you can now use the Google+ Login in your game.  </p>
</li>
<li>
Adding push notification support is really easy too. Make sure you have set up everything as required by Google first, as seen in the <a class="el" href="push_ref.html">dedicated section</a>.<br />
 Once this is done, open the 'Assets/Plugins/Android/AndroidManifest.xml' and activate the following sections, making sure to replace every occurence of 'com.cotc.unitysample' with your new bundle, in our case 'com.mycompany.mygame':<br />
 Section in the &lt;application&gt; tag. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;receiver android:name=&quot;com.google.android.gcm.GCMBroadcastReceiver&quot; android:permission=&quot;com.google.android.c2dm.permission.SEND&quot; &gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &lt;intent-filter&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        &lt;action android:name=&quot;com.google.android.c2dm.intent.RECEIVE&quot; /&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        &lt;action android:name=&quot;com.google.android.c2dm.intent.REGISTRATION&quot; /&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        &lt;category android:name=&quot;com.mycompany.mygame&quot; /&gt;                                                        &lt;-- MODIFICATION HERE</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    &lt;/intent-filter&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;&lt;/receiver&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;&lt;service android:name=&quot;com.clanofthecloud.cloudbuilder.unity.GCMIntentService&quot; android:enabled=&quot;true&quot; /&gt;</div>
</div><!-- fragment --> Section in the &lt;manifest&gt; tag. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;permission android:name=&quot;com.mycompany.mygame.permission.C2D_MESSAGE&quot; android:protectionLevel=&quot;signature&quot; /&gt;   &lt;-- MODIFICATION HERE</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;uses-permission android:name=&quot;com.mycompany.mygame.permission.C2D_MESSAGE&quot; /&gt;                                  &lt;-- MODIFICATION HERE</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;</div>
</div><!-- fragment --> Last step is activating a section in 'Assets/Plugins/Android/res/values/strings.xml' and customizing it with your own values. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;string name=&quot;cotc_push_notif_icon&quot; translatable=&quot;false&quot;&gt;ic_launcher&lt;/string&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;string name=&quot;cotc_push_notif_name&quot; translatable=&quot;false&quot;&gt;com.cotc.unitysample.GCM_RECEIVED_ACTION&lt;/string&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&lt;string name=&quot;cotc_push_notif_title&quot; translatable=&quot;false&quot;&gt;UnitySample Notification&lt;/string&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;&lt;string name=&quot;cotc_push_notif_sender&quot; translatable=&quot;false&quot;&gt;39804599442&lt;/string&gt;</div>
</div><!-- fragment --> 'cotc_push_notif_icon' should be the name of the icon you want to see displayed during a push notification. This icon must be present in your 'Assets/Plugins/Android/res/drawable' folder.<br />
 'cotc_push_notif_name' has to be modified using your new bundle, which would translate to 'com.mycompany.mygame.GCM_RECEIVED_ACTION' in our case.<br />
 'cotc_push_notif_title' is the string title you want to be displayed when a push notification is received.<br />
 'cotc_push_notif_sender' is the ID of your Google project as seen in th <a class="el" href="googleplus_ref.html">create a Google App section</a>.<br />
 And with that done, you're good to go with sending and receiving push notifications!  </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 3 2015 10:46:19 for CloudBuilder Unity by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
